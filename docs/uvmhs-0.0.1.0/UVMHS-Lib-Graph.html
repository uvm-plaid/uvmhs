<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8" /><meta name="viewport" content="width=device-width, initial-scale=1" /><title>UVMHS.Lib.Graph</title><link href="linuwial.css" rel="stylesheet" type="text/css" title="Linuwial" /><link rel="stylesheet" type="text/css" href="quick-jump.css" /><link rel="stylesheet" type="text/css" href="https://fonts.googleapis.com/css?family=PT+Sans:400,400i,700" /><script src="haddock-bundle.min.js" async="async" type="text/javascript"></script><script type="text/x-mathjax-config">MathJax.Hub.Config({ tex2jax: { processClass: "mathjax", ignoreClass: ".*" } });</script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js?config=TeX-AMS-MML_HTMLorMML" type="text/javascript"></script></head><body><div id="package-header"><span class="caption">uvmhs-0.0.1.0</span><ul class="links" id="page-menu"><li><a href="src/UVMHS.Lib.Graph.html">Source</a></li><li><a href="index.html">Contents</a></li><li><a href="doc-index.html">Index</a></li></ul></div><div id="content"><div id="module-header"><table class="info"><tr><th>Safe Haskell</th><td>None</td></tr><tr><th>Language</th><td>Haskell2010</td></tr></table><p class="caption">UVMHS.Lib.Graph</p></div><div id="synopsis"><details id="syn"><summary>Synopsis</summary><ul class="details-toggle" data-details-id="syn"><li class="src short"><span class="keyword">type</span> <a href="#t:Graph">Graph</a> a = a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a</li><li class="src short"><a href="#v:graphTranspose">graphTranspose</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; <a href="UVMHS-Lib-Graph.html#t:Graph" title="UVMHS.Lib.Graph">Graph</a> a -&gt; <a href="UVMHS-Lib-Graph.html#t:Graph" title="UVMHS.Lib.Graph">Graph</a> a</li><li class="src short"><a href="#v:kosaraju">kosaraju</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; <a href="UVMHS-Lib-Graph.html#t:Graph" title="UVMHS.Lib.Graph">Graph</a> a -&gt; a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> a</li><li class="src short"><a href="#v:sccGroups">sccGroups</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a) -&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> a) <a href="UVMHS-Core-Init.html#t:-8743-" title="UVMHS.Core.Init">&#8743;</a> (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> (<a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a <a href="UVMHS-Core-Init.html#t:-8743-" title="UVMHS.Core.Init">&#8743;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a))</li><li class="src short"><a href="#v:sccEachGroupM">sccEachGroupM</a> :: <span class="keyword">forall</span> a b m. (<a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a, <a href="UVMHS-Core-Classes-Functors.html#t:Monad" title="UVMHS.Core.Classes.Functors">Monad</a> m) =&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a) -&gt; (<a href="UVMHS-Core-Init.html#t:-120121-" title="UVMHS.Core.Init">&#120121;</a> -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; m (<a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b)) -&gt; m (<a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b)</li><li class="src short"><a href="#v:sccEachGroup">sccEachGroup</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a) -&gt; (<a href="UVMHS-Core-Init.html#t:-120121-" title="UVMHS.Core.Init">&#120121;</a> -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b) -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b</li></ul></details></div><div id="interface"><h1>Documentation</h1><div class="top"><p class="src"><span class="keyword">type</span> <a id="t:Graph" class="def">Graph</a> a = a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a <a href="src/UVMHS.Lib.Graph.html#Graph" class="link">Source</a> <a href="#t:Graph" class="selflink">#</a></p><div class="doc"><p>A <code><a href="UVMHS-Lib-Graph.html#t:Graph" title="UVMHS.Lib.Graph">Graph</a></code> has node elements <code>a</code>, and is just a relation between nodes.</p><p>Notation: </p><p>kvss : Graph a</p><p>(same as general dictionaries)</p></div></div><div class="top"><p class="src"><a id="v:graphTranspose" class="def">graphTranspose</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; <a href="UVMHS-Lib-Graph.html#t:Graph" title="UVMHS.Lib.Graph">Graph</a> a -&gt; <a href="UVMHS-Lib-Graph.html#t:Graph" title="UVMHS.Lib.Graph">Graph</a> a <a href="src/UVMHS.Lib.Graph.html#graphTranspose" class="link">Source</a> <a href="#v:graphTranspose" class="selflink">#</a></p><div class="doc"><p>Property:</p><p>(v &#8614; ks) &#8712; graph-transpose(kvss) &#10234; &#8704; (k &#8614; vs) &#8712; kvss. k &#8712; ks &#10234; v &#8712; vs</p></div></div><div class="top"><p class="src"><a id="v:kosaraju" class="def">kosaraju</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; <a href="UVMHS-Lib-Graph.html#t:Graph" title="UVMHS.Lib.Graph">Graph</a> a -&gt; a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> a <a href="src/UVMHS.Lib.Graph.html#kosaraju" class="link">Source</a> <a href="#v:kosaraju" class="selflink">#</a></p><div class="doc"><p>Run the Kosaraju algorithm, which computes strongly connected components.
 The algorithm computes a canonical node for each strongly connected
 component, and maps each node to the canonical node for strongly connected
 component in which it lives.</p><p>Definition: </p><p>strongly-connected &#8712; &#8472;(Graph)
     strongly-connected(kvss) &#8796; 
       &#8704; k&#8321;,k&#8322; &#8712; nodes(kvss). &#8707; path(k&#8321;,k&#8322;)
     strongly-connected-components &#8712; &#8472;(&#8472;(Graph))
     strongly-connected-components(kvsss) &#8796; 
         (&#8704; kvss &#8712; kvsss. strongly-connected(kvss))
       &#8743; (&#8704; kvss&#8321;,kvss&#8322; &#8712; kvsss. &#172;strongly-connected(kvss&#8321; &#8746;kvss&#8322;))</p><p>Property: </p><p>&#8704; kvss. 
       strongly-connected-components(
         values(
           graph-transpose(
             { k &#8614; {v} 
             | (k &#8614; v) &#8712; kosaraju(kvss)
             }</p></div></div><div class="top"><p class="src"><a id="v:sccGroups" class="def">sccGroups</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a) -&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> a) <a href="UVMHS-Core-Init.html#t:-8743-" title="UVMHS.Core.Init">&#8743;</a> (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> (<a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a <a href="UVMHS-Core-Init.html#t:-8743-" title="UVMHS.Core.Init">&#8743;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a)) <a href="src/UVMHS.Lib.Graph.html#sccGroups" class="link">Source</a> <a href="#v:sccGroups" class="selflink">#</a></p><div class="doc"><p>In the context of this function, we treat the element <code>a</code> like variables
 that have a definition/use structure. The first argument <code>deps</code> encodes
 dependencies from definitions of things to uses of things.</p><p>From a dependency relation, compute two elements:
 1. The strongly connected components for the dependency relation,
    represented as a map from variables to a canonical SCC elements for its
    dependency group
 2. A map from canonical SCC elements to:
    (a). All variables in its dependency group (i.e., the inverse of (1))
    (b). All dependencies of all variables in the dependnecy group</p><ol><li value="1">is computed using <code><a href="UVMHS-Lib-Graph.html#v:kosaraju" title="UVMHS.Lib.Graph">kosaraju</a></code>, but with an additional bit of information
 in the node representation that encodes def/use information, following these
 two semantic ideas:
 - *Use* of any variable <code>x</code> depends on the *definition* of that variable <code>x</code>
 - If `{x &#8614; y}` appears in <code>deps</code>, this means that *definition* of variable
   <code>x</code> depends on *use* of variable <code>y</code>.</li></ol></div></div><div class="top"><p class="src"><a id="v:sccEachGroupM" class="def">sccEachGroupM</a> :: <span class="keyword">forall</span> a b m. (<a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a, <a href="UVMHS-Core-Classes-Functors.html#t:Monad" title="UVMHS.Core.Classes.Functors">Monad</a> m) =&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a) -&gt; (<a href="UVMHS-Core-Init.html#t:-120121-" title="UVMHS.Core.Init">&#120121;</a> -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; m (<a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b)) -&gt; m (<a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b) <a href="src/UVMHS.Lib.Graph.html#sccEachGroupM" class="link">Source</a> <a href="#v:sccEachGroupM" class="selflink">#</a></p><div class="doc"><p>Compute strongly connected components following a dependency map, and
 process each component with a monadic action.</p><p>sccEachGroupM xs deps f</p><ul><li><code>xs</code> represents a desired ordering in which to process variables (e.g., if
   definitions <code>x</code> and <code>y</code> do not depend on each other, and <code>x</code> comes before
   <code>y</code> in <code>xs</code>, then call <code>f</code> on the SCC group for <code>x</code> before doing the same
   for <code>y</code>.)</li><li><code>deps</code> represents dependency information. See <code><a href="UVMHS-Lib-Graph.html#v:sccGroups" title="UVMHS.Lib.Graph">sccGroups</a></code> for how these
   are processed.</li><li>`f b xs&#8242;` represents an action to perform on each SCC group. If the group
   is non-recursive, then <code>b</code> will be <code><a href="UVMHS-Core-Init.html#v:False" title="UVMHS.Core.Init">False</a></code> and `|xs&#8242;| = 1`. If the group
   is recursive, then <code>b</code> will be <code><a href="UVMHS-Core-Init.html#v:True" title="UVMHS.Core.Init">True</a></code> and `|xs&#8242;| &#8805; 1`.</li></ul></div></div><div class="top"><p class="src"><a id="v:sccEachGroup" class="def">sccEachGroup</a> :: <a href="UVMHS-Core-Init.html#t:Ord" title="UVMHS.Core.Init">Ord</a> a =&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; (a <a href="UVMHS-Core-Init.html#t:-8688-" title="UVMHS.Core.Init">&#8688;</a> <a href="UVMHS-Core-Init.html#t:-119875-" title="UVMHS.Core.Init">&#119875;</a> a) -&gt; (<a href="UVMHS-Core-Init.html#t:-120121-" title="UVMHS.Core.Init">&#120121;</a> -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> a -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b) -&gt; <a href="UVMHS-Core-Init.html#t:-119868-" title="UVMHS.Core.Init">&#119868;</a> b <a href="src/UVMHS.Lib.Graph.html#sccEachGroup" class="link">Source</a> <a href="#v:sccEachGroup" class="selflink">#</a></p><div class="doc"><p>Similar to <code><a href="UVMHS-Lib-Graph.html#v:sccEachGroupM" title="UVMHS.Lib.Graph">sccEachGroupM</a></code>, but specialized to the identity monad.</p></div></div></div></div><div id="footer"><p>Produced by <a href="http://www.haskell.org/haddock/">Haddock</a> version 2.30.0</p></div></body></html>